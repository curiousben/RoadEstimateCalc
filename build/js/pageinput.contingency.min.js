/*
*
* DISCLAIMER:
* The contents of this web application do not nessarily reflect the offical 
* views or policies of the Virginia Department of Transportation, the 
* Commonwealth Transportation Board, or the Federal Highway Administration.
* This web app does not constitue a standard, specification, or regulation.
* Any inclusion of manufacturer names, trade names, or trademarksis for 
* identification purposes only and is not to be considered an endorsement.
*
*/

/* RoadEstimateCalc v0.2.2 | 2015 Virginia Transportation Research Council */
function numberleftblank(a){return a?a:5}function CurrentlyloadedRecord(){if(null!=localStorage.getItem("ImportEstimator")||null!=localStorage.getItem("ImportUPC")||null!=localStorage.getItem("ImportRoadNumber")){$("#LoadedRecord").removeClass("hide"),document.getElementById("RecordEstimator").innerHTML=localStorage.getItem("ImportEstimator"),document.getElementById("RecordUPC").innerHTML=localStorage.getItem("ImportUPC"),document.getElementById("RecordRoadNumber").innerHTML=localStorage.getItem("ImportRoadNumber");for(var a,b=!0,c=$(document)[0].URL,d=c.length-1;d>=0;d--)"/"==c.charAt(d)&&1==b&&(a=c.slice(d,c.length),b=!1);localStorage.setItem("lastURL",a)}}function ContingencySlider(){$("#GIPercent").slider({value:numberleftblank(localStorage.getItem("GIPercent")),min:1,max:100,slide:function(a,b){$("#GIPercentinput").val(b.value),localStorage.setItem("GIPercent",b.value)}}),$("#GIPercentinput").change(function(a){localStorage.setItem("GIPercent",$(this).val()),$("#GIPercent").slider("option","value",$(this).val())}),$("#GIPercentinput").val($("#GIPercent").slider("value")),$("#DIPercent").slider({value:numberleftblank(localStorage.getItem("DIPercent")),min:1,max:100,slide:function(a,b){$("#DIPercentinput").val(b.value),localStorage.setItem("DIPercent",b.value)}}),$("#DIPercentinput").change(function(a){localStorage.setItem("DIPercent",$(this).val()),$("#DIPercent").slider("option","value",$(this).val())}),$("#DIPercentinput").val($("#DIPercent").slider("value")),$("#PavIPercent").slider({value:numberleftblank(localStorage.getItem("PavIPercent")),min:1,max:100,slide:function(a,b){$("#PavIPercentinput").val(b.value),localStorage.setItem("PavIPercent",b.value)}}),$("#PavIPercentinput").change(function(a){localStorage.setItem("PavIPercent",$(this).val()),$("#PavIPercent").slider("option","value",$(this).val())}),$("#PavIPercentinput").val($("#PavIPercent").slider("value")),$("#IIPercent").slider({value:numberleftblank(localStorage.getItem("IIPercent")),min:1,max:100,slide:function(a,b){$("#IIPercentinput").val(b.value),localStorage.setItem("IIPercent",b.value)}}),$("#IIPercentinput").change(function(a){localStorage.setItem("IIPercent",$(this).val()),$("#IIPercent").slider("option","value",$(this).val())}),$("#IIPercentinput").val($("#IIPercent").slider("value")),$("#ProIPercent").slider({value:numberleftblank(localStorage.getItem("ProIPercent")),min:1,max:100,slide:function(a,b){$("#ProIPercentinput").val(b.value),localStorage.setItem("ProIPercent",b.value)}}),$("#ProIPercentinput").change(function(a){localStorage.setItem("ProIPercent",$(this).val()),$("#ProIPercent").slider("option","value",$(this).val())}),$("#ProIPercentinput").val($("#ProIPercent").slider("value")),$("#ECPercent").slider({value:numberleftblank(localStorage.getItem("ECPercent")),min:1,max:100,slide:function(a,b){$("#ECPercentinput").val(b.value),localStorage.setItem("ECPercent",b.value)}}),$("#ECPercentinput").change(function(a){localStorage.setItem("ECPercent",$(this).val()),$("#ECPercent").slider("option","value",$(this).val())}),$("#ECPercentinput").val($("#ECPercent").slider("value")),$("#UPercent").slider({value:numberleftblank(localStorage.getItem("UPercent")),min:1,max:100,slide:function(a,b){$("#UPercentinput").val(b.value),localStorage.setItem("UPercent",b.value)}}),$("#UPercentinput").change(function(a){localStorage.setItem("UPercent",$(this).val()),$("#UPercent").slider("option","value",$(this).val())}),$("#UPercentinput").val($("#UPercent").slider("value")),$("#TSPercent").slider({value:numberleftblank(localStorage.getItem("TSPercent")),min:1,max:100,slide:function(a,b){$("#TSPercentinput").val(b.value),localStorage.setItem("TSPercent",b.value)}}),$("#TSPercentinput").change(function(a){localStorage.setItem("TSPercent",$(this).val()),$("#TSPercent").slider("option","value",$(this).val())}),$("#TSPercentinput").val($("#TSPercent").slider("value")),$("#BPercent").slider({value:numberleftblank(localStorage.getItem("BPercent")),min:1,max:100,slide:function(a,b){$("#BPercentinput").val(b.value),localStorage.setItem("BPercent",b.value)}}),$("#BPercentinput").change(function(a){localStorage.setItem("BPercent",$(this).val()),$("#BPercent").slider("option","value",$(this).val())}),$("#BPercentinput").val($("#BPercent").slider("value"))}function CurrentlyloadedRecord(){if(null!=localStorage.getItem("ImportEstimator")||null!=localStorage.getItem("ImportUPC")||null!=localStorage.getItem("ImportRoadNumber")){$("#LoadedRecord").removeClass("hide"),document.getElementById("RecordEstimator").innerHTML=localStorage.getItem("ImportEstimator"),document.getElementById("RecordUPC").innerHTML=localStorage.getItem("ImportUPC"),document.getElementById("RecordRoadNumber").innerHTML=localStorage.getItem("ImportRoadNumber");for(var a,b=!0,c=$(document)[0].URL,d=c.length-1;d>=0;d--)"/"==c.charAt(d)&&1==b&&(a=c.slice(d,c.length),b=!1);localStorage.setItem("lastURL",a)}}function ImportCurrentlyLoadedRecord(){Estimator=localStorage.getItem("ImportEstimator"),UPC=localStorage.getItem("ImportUPC"),RoadNumber=localStorage.getItem("ImportRoadNumber"),$.getJSON("/datarecords/Estimator&&UPC&&RoadNumber/"+Estimator+"&&"+UPC+"&&"+RoadNumber,function(a){DataArrayObject=$.parseJSON(a[0].DataArray),localStorage.clear();for(var b in DataArrayObject)localStorage.setItem(b,DataArrayObject[b]);localStorage.setItem("ImportEstimator",a[0].Estimator),localStorage.setItem("ImportUPC",a[0].UPC),localStorage.setItem("ImportRoadNumber",a[0].RoadNumber),ContingencySlider()})}function ReceiptLink(){window.location="http://localhost:3000/Receipt"}$(document).ready(function(){CurrentlyloadedRecord(),ContingencySlider(),$("#ImportLastloaded").click(ImportCurrentlyLoadedRecord),$("#ReceiptOfLoaded").click(ReceiptLink)});